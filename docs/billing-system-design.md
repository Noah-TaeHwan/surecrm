# ğŸ“‹ SureCRM í† ìŠ¤í˜ì´ë¨¼ì¸  êµ¬ë… ê²°ì œ ì‹œìŠ¤í…œ ì„¤ê³„ì„œ

## ğŸ“š ë¬¸ì„œ êµ¬ì„±

ì´ ì„¤ê³„ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

1. **[ë©”ì¸ ì„¤ê³„ì„œ](./billing-system-design.md)** (í˜„ì¬ ë¬¸ì„œ)
2. **[ê¸°ìˆ  êµ¬í˜„ ê°€ì´ë“œ](./billing-implementation-guide.md)**
3. **[í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™ ê°€ì´ë“œ](./toss-payments-integration.md)**
4. **[ì˜ˆì™¸ ì²˜ë¦¬ ê°€ì´ë“œ](./billing-error-handling.md)**
5. **[ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./billing-database-schema.md)**

---

## ğŸ¯ **1. í”„ë¡œì íŠ¸ ê°œìš”**

### **1.1 ëª©í‘œ**

SureCRMì— í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í™œìš©í•œ ì›” êµ¬ë… ê²°ì œ ì‹œìŠ¤í…œì„ í†µí•©í•˜ì—¬, ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ SaaS ìˆ˜ìµ ëª¨ë¸ì„ êµ¬ì¶•í•œë‹¤.

### **1.2 í•µì‹¬ ì „ëµ**

- **MVP ì ‘ê·¼ë²•**: ë‹¨ì¼ í”Œëœìœ¼ë¡œ ì‹œì‘í•˜ì—¬ ë³µì¡ì„± ìµœì†Œí™”
- **ì¦‰ì‹œ ìœ ë£Œí™”**: ë¬´ë£Œì²´í—˜ ì—†ì´ ë°”ë¡œ ìœ ë£Œ ì„œë¹„ìŠ¤
- **ê¸°ì¡´ êµ¬ì¡° í™œìš©**: í˜„ì¬ feature-driven ì•„í‚¤í…ì²˜ì— ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©
- **ì ì§„ì  êµ¬í˜„**: ê¸°ì¡´ ì„œë¹„ìŠ¤ì— ì˜í–¥ ì—†ì´ ë‹¨ê³„ë³„ êµ¬ì¶•

### **1.3 ì„±ê³µ ì§€í‘œ**

- ê²°ì œ ì„±ê³µë¥ : 95% ì´ìƒ
- ì›” ì´íƒˆë¥ : 5% ì´í•˜
- ê²°ì œ ê´€ë ¨ ê³ ê° ë¬¸ì˜: ì „ì²´ ë¬¸ì˜ì˜ 10% ì´í•˜
- ì‹œìŠ¤í…œ ì•ˆì •ì„±: 99.9% ì—…íƒ€ì„

---

## ğŸ’° **2. êµ¬ë… ëª¨ë¸ ì •ì˜**

### **2.1 MVP í”Œëœ ìŠ¤í™**

```typescript
const SURECRM_PLAN = {
  id: 'surecrm-pro',
  name: 'SureCRM Pro',
  price: 39000,
  currency: 'KRW',
  billing_cycle: 'monthly',
  description: 'ë³´í—˜ì„¤ê³„ì‚¬ë¥¼ ìœ„í•œ ì˜¬ì¸ì› CRM ì†”ë£¨ì…˜',

  features: [
    'ë¬´ì œí•œ ê³ ê° ê´€ë¦¬',
    'ì˜ì—… íŒŒì´í”„ë¼ì¸',
    'í‚¤ë§¨ ê³ ê° ê´€ë¦¬',
    'ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ',
    'ë³´ê³ ì„œ ë° ë¶„ì„',
    'íŒ€ í˜‘ì—… ê¸°ëŠ¥',
    'ë°ì´í„° ë°±ì—…',
    'ì´ë©”ì¼ ì§€ì›',
  ],

  limitations: {
    clients: -1, // ë¬´ì œí•œ
    users: -1, // ë¬´ì œí•œ
    storage: -1, // ë¬´ì œí•œ
    api_calls: -1, // ë¬´ì œí•œ
  },
};
```

### **2.2 ê°€ê²© ì •ì±…**

- **ê¸°ë³¸ ìš”ê¸ˆ**: ì›” 39,000ì› (VAT í¬í•¨)
- **ê²°ì œ ë°©ì‹**: ë§¤ì›” ìë™ê²°ì œ (ì‹ ìš©ì¹´ë“œ/ì²´í¬ì¹´ë“œ)
- **í™˜ë¶ˆ ì •ì±…**: 30ì¼ ë¬´ì¡°ê±´ í™˜ë¶ˆ ë³´ì¥
- **í• ì¸ ì •ì±…**: MVP ë‹¨ê³„ì—ì„œëŠ” ì—†ìŒ

### **2.3 ê²½ìŸ ë¶„ì„**

- **ê¸°ì¡´ CRM ì†”ë£¨ì…˜**: ì›” 5ë§Œì›~15ë§Œì› (ê¸°ëŠ¥ ì œí•œ ë§ìŒ)
- **SureCRM ì°¨ë³„ì **: ë³´í—˜ì—…ê³„ íŠ¹í™” + ì˜¬ì¸ì› + í•©ë¦¬ì  ê°€ê²©

---

## ğŸ—ï¸ **3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**

### **3.1 í˜„ì¬ SureCRM ê¸°ìˆ  ìŠ¤íƒ**

- **Frontend**: React Router v7 + TypeScript + Tailwind CSS + Shadcn UI
- **Backend**: React Router SSR (loader/action functions)
- **Database**: Supabase (PostgreSQL) + Drizzle ORM
- **Deployment**: Vercel
- **Authentication**: Supabase Auth

### **3.2 ì¶”ê°€ë  ê¸°ìˆ  ìŠ¤íƒ**

- **Payment Gateway**: í† ìŠ¤í˜ì´ë¨¼ì¸ 
- **Billing Management**: ìì²´ êµ¬í˜„
- **Webhook Processing**: Vercel Edge Functions
- **Cron Jobs**: Vercel Cron
- **Email Service**: ê¸°ì¡´ ì‹œìŠ¤í…œ í™œìš©

### **3.3 í†µí•© ì•„í‚¤í…ì²˜**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Router  â”‚    â”‚   Supabase DB   â”‚    â”‚ í† ìŠ¤í˜ì´ë¨¼ì¸     â”‚
â”‚   (Frontend)    â”‚â—„â”€â”€â–ºâ”‚   (Storage)     â”‚    â”‚ (Payment)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Billing Module â”‚    â”‚ Subscription    â”‚    â”‚   Webhook       â”‚
â”‚  (features/)    â”‚    â”‚ Management      â”‚    â”‚  Processing     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ **4. ì‚¬ìš©ì ì—¬ì • ì„¤ê³„**

### **4.1 ì‹ ê·œ ì‚¬ìš©ì ê°€ì… í”Œë¡œìš°**

```mermaid
flowchart TD
    A[ëœë”©í˜ì´ì§€ ë°©ë¬¸] --> B[ì„œë¹„ìŠ¤ ì†Œê°œ í™•ì¸]
    B --> C[ê°€ê²© í™•ì¸: 39,000ì›/ì›”]
    C --> D{ê°€ì… ì˜ì‚¬ ê²°ì •}
    D -->|ì˜ˆ| E[íšŒì›ê°€ì… ì‹œì‘]
    D -->|ì•„ë‹ˆì˜¤| F[ì´íƒˆ]

    E --> G[ê¸°ë³¸ ì •ë³´ ì…ë ¥]
    G --> H[êµ¬ë… í”Œëœ í™•ì¸]
    H --> I[í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ]
    I --> J{ê²°ì œ ì„±ê³µ?}
    J -->|ì˜ˆ| K[êµ¬ë… í™œì„±í™”]
    J -->|ì•„ë‹ˆì˜¤| L[ê²°ì œ ì¬ì‹œë„]

    K --> M[í™˜ì˜ ë©”ì‹œì§€]
    M --> N[ì˜¨ë³´ë”© íˆ¬ì–´]
    N --> O[ì„œë¹„ìŠ¤ ì •ìƒ ì´ìš©]

    L --> I
```

### **4.2 ê¸°ì¡´ ì‚¬ìš©ì êµ¬ë… ê´€ë¦¬ í”Œë¡œìš°**

```mermaid
flowchart TD
    A[êµ¬ë… ê´€ë¦¬ í˜ì´ì§€] --> B{í˜„ì¬ êµ¬ë… ìƒíƒœ}
    B -->|í™œì„±| C[êµ¬ë… ì •ë³´ í‘œì‹œ]
    B -->|ê³¼ê±° ì—°ì²´| D[ê²°ì œ ì¬ì‹œë„ ì•ˆë‚´]
    B -->|ì·¨ì†Œë¨| E[ì¬êµ¬ë… ì•ˆë‚´]

    C --> F[ê²°ì œìˆ˜ë‹¨ ë³€ê²½]
    C --> G[êµ¬ë… ì¼ì‹œì •ì§€]
    C --> H[êµ¬ë… ì·¨ì†Œ]
    C --> I[ê²°ì œ ë‚´ì—­ ì¡°íšŒ]
```

### **4.3 ìë™ê²°ì œ í”Œë¡œìš°**

```mermaid
sequenceDiagram
    participant C as Cron Job
    participant S as SureCRM Server
    participant T as í† ìŠ¤í˜ì´ë¨¼ì¸ 
    participant U as ì‚¬ìš©ì

    C->>S: ë§¤ì¼ ìì • ê²°ì œ í™•ì¸
    S->>S: ì˜¤ëŠ˜ ê²°ì œ ì˜ˆì • êµ¬ë… ì¡°íšŒ
    S->>T: ë¹Œë§í‚¤ë¡œ ìë™ê²°ì œ ìš”ì²­
    T->>S: ê²°ì œ ê²°ê³¼ ì‘ë‹µ
    S->>S: êµ¬ë… ìƒíƒœ ì—…ë°ì´íŠ¸
    S->>U: ê²°ì œ ì™„ë£Œ ì´ë©”ì¼ ë°œì†¡
```

---

## ğŸ¨ **5. UI/UX ì„¤ê³„**

### **5.1 í•µì‹¬ í˜ì´ì§€ êµ¬ì„±**

```
/billing/                     # êµ¬ë… ê´€ë¦¬ í™ˆ
â”œâ”€â”€ plans                     # í”Œëœ ì„ íƒ (í˜„ì¬ëŠ” ë‹¨ì¼ í”Œëœ)
â”œâ”€â”€ setup                     # ê²°ì œìˆ˜ë‹¨ ì„¤ì •
â”œâ”€â”€ success                   # ê²°ì œ ì„±ê³µ
â”œâ”€â”€ failed                    # ê²°ì œ ì‹¤íŒ¨
â”œâ”€â”€ subscription              # êµ¬ë… ìƒíƒœ ê´€ë¦¬
â”œâ”€â”€ history                   # ê²°ì œ ë‚´ì—­
â””â”€â”€ cancel                    # êµ¬ë… ì·¨ì†Œ
```

### **5.2 ì»´í¬ë„ŒíŠ¸ ì„¤ê³„**

```typescript
// ì£¼ìš” UI ì»´í¬ë„ŒíŠ¸
interface BillingComponents {
  // í”Œëœ ê´€ë ¨
  PlanCard: 'ë‹¨ì¼ í”Œëœ ì¹´ë“œ í‘œì‹œ';
  PlanFeatures: 'ê¸°ëŠ¥ ëª©ë¡ í‘œì‹œ';

  // ê²°ì œ ê´€ë ¨
  TossPaymentForm: 'í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ í¼';
  PaymentMethodCard: 'ë“±ë¡ëœ ê²°ì œìˆ˜ë‹¨ í‘œì‹œ';

  // êµ¬ë… ê´€ë¦¬
  SubscriptionStatus: 'í˜„ì¬ êµ¬ë… ìƒíƒœ';
  BillingHistory: 'ê²°ì œ ë‚´ì—­ í…Œì´ë¸”';
  UsageProgress: 'ì‚¬ìš©ëŸ‰ ì§„í–‰ë¥  (í–¥í›„)';

  // ìƒíƒœ í‘œì‹œ
  PaymentStatusBadge: 'ê²°ì œ ìƒíƒœ ë°°ì§€';
  SubscriptionAlert: 'êµ¬ë… ê´€ë ¨ ì•Œë¦¼';
}
```

### **5.3 ê¸°ì¡´ UIì™€ì˜ í†µí•©**

```typescript
// ê¸°ì¡´ ì„¤ì • í˜ì´ì§€ì— êµ¬ë… ë©”ë‰´ ì¶”ê°€
const SettingsNavigation = [
  { name: 'í”„ë¡œí•„', href: '/settings' },
  { name: 'íŒ€ ê´€ë¦¬', href: '/settings/team' },
  { name: 'êµ¬ë… & ê²°ì œ', href: '/billing' }, // ğŸ†• ì¶”ê°€
  { name: 'ì•Œë¦¼ ì„¤ì •', href: '/settings/notifications' },
];

// ê¸°ì¡´ ëŒ€ì‹œë³´ë“œì— êµ¬ë… ìƒíƒœ ìœ„ì ¯ ì¶”ê°€ (ì„ íƒì )
const DashboardWidgets = [
  // ... ê¸°ì¡´ ìœ„ì ¯ë“¤
  <SubscriptionOverviewWidget />, // ğŸ†• ì¶”ê°€ (ì„ íƒì )
];
```

---

## ğŸ“Š **6. ìˆ˜ìµ ëª¨ë¸ ë° ì˜ˆìƒ ì„±ê³¼**

### **6.1 ëª©í‘œ ìˆ˜ìµ**

```typescript
const RevenueProjection = {
  monthly_price: 39000,
  target_users: {
    '3ê°œì›”': 30, // ì›” 117ë§Œì›
    '6ê°œì›”': 100, // ì›” 390ë§Œì›
    '12ê°œì›”': 300, // ì›” 1,170ë§Œì›
  },

  costs: {
    toss_fee: '2.6% + VAT',
    monthly_cost_per_100_users: 100000, // ì•½ 10ë§Œì›
    net_margin: '97.4%',
  },
};
```

### **6.2 ì„±ê³µ ì§€í‘œ (KPI)**

```typescript
const KPIs = {
  conversion: {
    landing_to_signup: 'ëª©í‘œ 3%',
    signup_to_payment: 'ëª©í‘œ 80%', // ë¬´ë£Œì²´í—˜ ì—†ì–´ì„œ ë†’ìŒ
    payment_success_rate: 'ëª©í‘œ 95%',
  },

  retention: {
    monthly_churn: 'ëª©í‘œ 5% ì´í•˜',
    payment_failure_recovery: 'ëª©í‘œ 70%',
    customer_lifetime: 'ëª©í‘œ 12ê°œì›”+',
  },

  satisfaction: {
    nps_score: 'ëª©í‘œ 50+',
    support_satisfaction: 'ëª©í‘œ 4.5/5',
    payment_complaints: 'ëª©í‘œ ì „ì²´ ë¬¸ì˜ì˜ 10% ì´í•˜',
  },
};
```

---

## ğŸ”„ **7. êµ¬í˜„ ë‹¨ê³„ë³„ ë¡œë“œë§µ**

### **7.1 Phase 1: ê¸°ë°˜ êµ¬ì¶• (1ì£¼)**

**ëª©í‘œ**: ë…ë¦½ì ì¸ billing ëª¨ë“ˆ ìƒì„± ë° ê¸°ë³¸ êµ¬ì¡° êµ¬ì¶•

```bash
# ìƒˆë¡œ ìƒì„±í•  íŒŒì¼ë“¤
app/features/billing/                # ğŸ†• ì „ì²´ ëª¨ë“ˆ
app/lib/schema/billing.ts            # ğŸ†• ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
app/lib/payments/                    # ğŸ†• ê²°ì œ ë¡œì§
docs/billing-*.md                    # ğŸ†• ë¬¸ì„œí™”
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:

- [ ] í† ìŠ¤í˜ì´ë¨¼ì¸  ê°œë°œì ê³„ì • ìƒì„±
- [ ] í…ŒìŠ¤íŠ¸í‚¤ ë°œê¸‰ ë° í™˜ê²½ ì„¤ì •
- [ ] billing ëª¨ë“ˆ í´ë” êµ¬ì¡° ìƒì„±
- [ ] ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„
- [ ] ë¼ìš°íŒ… êµ¬ì¡° ì„¤ì •

### **7.2 Phase 2: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ (2ì£¼)**

**ëª©í‘œ**: íšŒì›ê°€ì…+ê²°ì œ í†µí•© í”Œë¡œìš° ì™„ì„±

**Week 1**: UI ë° ê¸°ë³¸ í”Œë¡œìš°

- [ ] íšŒì›ê°€ì… + ê²°ì œ í†µí•© UI
- [ ] í† ìŠ¤í˜ì´ë¨¼ì¸  SDK ì—°ë™
- [ ] ê¸°ë³¸ ê²°ì œ í”Œë¡œìš° êµ¬í˜„
- [ ] ì„±ê³µ/ì‹¤íŒ¨ í˜ì´ì§€ êµ¬í˜„

**Week 2**: ìë™ê²°ì œ ë° ê´€ë¦¬

- [ ] ë¹Œë§í‚¤ ë°œê¸‰ ë° ì €ì¥
- [ ] ìë™ê²°ì œ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] êµ¬ë… ê´€ë¦¬ UI
- [ ] ì›¹í›… ì²˜ë¦¬ êµ¬í˜„

### **7.3 Phase 3: ê³ ê¸‰ ê¸°ëŠ¥ ë° ì•ˆì •í™” (1ì£¼)**

**ëª©í‘œ**: ì˜ˆì™¸ ì²˜ë¦¬ ë° ì‚¬ìš©ì ê²½í—˜ ì™„ì„±

- [ ] ëª¨ë“  ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬
- [ ] ê²°ì œ ì‹¤íŒ¨ ë³µêµ¬ ì‹œìŠ¤í…œ
- [ ] ì´ë©”ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ
- [ ] ê³ ê°ì§€ì› ë„êµ¬
- [ ] ì „ì²´ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸

### **7.4 Phase 4: ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•© (1ì£¼)**

**ëª©í‘œ**: ê¸°ì¡´ SureCRM ê¸°ëŠ¥ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©

- [ ] ì„¤ì • í˜ì´ì§€ì— êµ¬ë… ë©”ë‰´ ì¶”ê°€
- [ ] ëŒ€ì‹œë³´ë“œì— êµ¬ë… ìƒíƒœ í‘œì‹œ (ì„ íƒì )
- [ ] ì‚¬ìš©ëŸ‰ ì œí•œ ì‹œìŠ¤í…œ (í–¥í›„ í™•ì¥ìš©)
- [ ] ì „ì²´ UX í†µì¼ì„± í™•ì¸

---

## ğŸ”§ **8. ê¸°ìˆ  êµ¬í˜„ ì„¸ë¶€ ì‚¬í•­**

### **8.1 í´ë” êµ¬ì¡°**

```
app/
â”œâ”€â”€ features/billing/               # ğŸ†• êµ¬ë… ê²°ì œ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ plan-selection/        # í”Œëœ ì„ íƒ (í˜„ì¬ ë‹¨ì¼ í”Œëœ)
â”‚   â”‚   â”œâ”€â”€ payment/               # ê²°ì œ ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ subscription/          # êµ¬ë… ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ shared/                # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useSubscription.ts     # êµ¬ë… ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ usePayment.ts          # ê²°ì œ ì²˜ë¦¬
â”‚   â”‚   â””â”€â”€ useBillingHistory.ts   # ê²°ì œ ë‚´ì—­
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api/                   # API í•¨ìˆ˜ë“¤
â”‚   â”‚   â”œâ”€â”€ services/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â””â”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ billing-page.tsx       # /billing
â”‚   â”‚   â”œâ”€â”€ plans-page.tsx         # /billing/plans
â”‚   â”‚   â”œâ”€â”€ setup-page.tsx         # /billing/setup
â”‚   â”‚   â”œâ”€â”€ success-page.tsx       # /billing/success
â”‚   â”‚   â”œâ”€â”€ failed-page.tsx        # /billing/failed
â”‚   â”‚   â””â”€â”€ subscription-page.tsx  # /billing/subscription
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ billing.types.ts       # íƒ€ì… ì •ì˜
â”‚       â””â”€â”€ payment.types.ts       # ê²°ì œ íƒ€ì…
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ payments/                  # ğŸ†• ê²°ì œ ì‹œìŠ¤í…œ ì½”ì–´
â”‚   â”‚   â”œâ”€â”€ toss-payments/         # í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™
â”‚   â”‚   â”œâ”€â”€ billing/               # ë¹Œë§ ë¡œì§
â”‚   â”‚   â””â”€â”€ webhooks/              # ì›¹í›… ì²˜ë¦¬
â”‚   â””â”€â”€ schema/
â”‚       â””â”€â”€ billing.ts             # ğŸ†• ê²°ì œ ê´€ë ¨ ìŠ¤í‚¤ë§ˆ
â”‚
â””â”€â”€ routes/
    â”œâ”€â”€ api.billing.*.ts           # ğŸ†• ê²°ì œ ê´€ë ¨ API
    â””â”€â”€ api.webhooks.toss.ts       # ğŸ†• í† ìŠ¤í˜ì´ë¨¼ì¸  ì›¹í›…
```

### **8.2 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

```bash
# .env.local
# í† ìŠ¤í˜ì´ë¨¼ì¸  ì„¤ì •
TOSS_CLIENT_KEY=test_ck_...         # í…ŒìŠ¤íŠ¸ í´ë¼ì´ì–¸íŠ¸ í‚¤
TOSS_SECRET_KEY=test_sk_...         # í…ŒìŠ¤íŠ¸ ì‹œí¬ë¦¿ í‚¤
TOSS_WEBHOOK_SECRET=...             # ì›¹í›… ê²€ì¦ìš© ì‹œí¬ë¦¿

# ê²°ì œ ì„¤ì •
PAYMENT_MODE=test                   # test | production
BILLING_ENCRYPTION_KEY=...         # ë¹Œë§í‚¤ ì•”í˜¸í™”ìš©

# ì„œë¹„ìŠ¤ ì„¤ì •
SERVICE_URL=http://localhost:3000   # ì½œë°± URLìš©
CUSTOMER_SUPPORT_EMAIL=...          # ê³ ê°ì§€ì› ì´ë©”ì¼
```

---

## ğŸ¯ **9. ë‹¤ìŒ ë‹¨ê³„**

### **9.1 ì¦‰ì‹œ í•´ì•¼ í•  ì¼**

1. **í† ìŠ¤í˜ì´ë¨¼ì¸  ê°œë°œì ê³„ì • ìƒì„±** ğŸ“‹ [ìƒì„¸ ê°€ì´ë“œ](./toss-payments-integration.md)
2. **í”„ë¡œì íŠ¸ í™˜ê²½ ì„¤ì •**
3. **ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ê²°ì œ êµ¬í˜„**

### **9.2 ê´€ë ¨ ë¬¸ì„œ**

- **[ê¸°ìˆ  êµ¬í˜„ ê°€ì´ë“œ](./billing-implementation-guide.md)**: ì½”ë“œ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­
- **[í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™ ê°€ì´ë“œ](./toss-payments-integration.md)**: í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™ ë‹¨ê³„ë³„ ê°€ì´ë“œ
- **[ì˜ˆì™¸ ì²˜ë¦¬ ê°€ì´ë“œ](./billing-error-handling.md)**: ëª¨ë“  ì˜ˆì™¸ ìƒí™© ëŒ€ì‘ ë°©ì•ˆ
- **[ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./billing-database-schema.md)**: í…Œì´ë¸” ì„¤ê³„ ë° ê´€ê³„

---

## ğŸ“ **10. ì§€ì› ë° ë¬¸ì˜**

êµ¬í˜„ ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì¶”ê°€ ì„¤ëª…ì´ í•„ìš”í•œ ê²½ìš°:

1. **í† ìŠ¤í˜ì´ë¨¼ì¸  ê´€ë ¨**: [í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™ ê°€ì´ë“œ](./toss-payments-integration.md) ì°¸ì¡°
2. **ê¸°ìˆ  êµ¬í˜„ ê´€ë ¨**: [ê¸°ìˆ  êµ¬í˜„ ê°€ì´ë“œ](./billing-implementation-guide.md) ì°¸ì¡°
3. **ì˜ˆì™¸ ì²˜ë¦¬ ê´€ë ¨**: [ì˜ˆì™¸ ì²˜ë¦¬ ê°€ì´ë“œ](./billing-error-handling.md) ì°¸ì¡°

---

**ğŸ“ ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024-01-15
**ğŸ“‹ ë¬¸ì„œ ë²„ì „**: v1.0
**ğŸ‘¨â€ğŸ’» ì‘ì„±ì**: AI Assistant + ê°œë°œíŒ€
